Module List2:
  Inductive t:
    ([ a ], [ (Nil, [ ]); (Cons, [ a; Type (t/0, a) ]) ])
  
  ((),
    Value
      (rec, sum_rec, [ ],
        [ (counter, Type (nat/2)); (l, Type (t/0, Type (Z/2))) ],
        Some Monad ([ NonTermination/1 ], Type (Z/2))) =
      Match
        (?, Variable (?, counter/0),
          [
            (Constructor (O/2),
              Apply (?, Variable (?, not_terminated/2), Tuple (?)));
            (Constructor (S/2, counter),
              Match
                (9, Variable (9, l/0),
                  [
                    (Constructor (Nil/0),
                      Return
                        (?,
                          Constant
                            (10,
                              Int(0))));
                    (Constructor (Cons/0, x, xs),
                      Bind
                        (?,
                          Apply
                            (11,
                              Apply
                                (?,
                                  Variable
                                    (?,
                                      sum_rec/0),
                                  Variable
                                    (?,
                                      counter/0)),
                              Variable
                                (11,
                                  xs/0)),
                          Some
                            x_1,
                          Return
                            (?,
                              Apply
                                (?,
                                  Apply
                                    (11,
                                      Variable
                                        (11,
                                          Z.add/2),
                                      Variable
                                        (11,
                                          x/0)),
                                  Variable
                                    (?,
                                      x_1/0)))))
                  ]))
          ]))
  
  ((),
    Value
      (non_rec, sum, [ ], [ (l, Type (t/0, Type (Z/2))) ],
        Some Monad ([ Counter/1; NonTermination/1 ], Type (Z/2))) =
      Bind
        (?,
          Lift
            (?, [ Counter/1 ], [ Counter/1; NonTermination/1 ],
              Apply (?, Variable (?, read_counter/2), Tuple (?))), Some counter,
          Lift
            (?, [ NonTermination/1 ], [ Counter/1; NonTermination/1 ],
              Apply
                (?, Apply (?, Variable (?, sum_rec/0), Variable (?, counter/0)),
                  Variable (?, l/0)))))
  
  ((),
    Value
      (rec, of_list_rec, [ A ],
        [ (counter, Type (nat/2)); (x, Type (list/2, A)) ],
        Some Monad ([ NonTermination/1 ], Type (t/0, A))) =
      Match
        (?, Variable (?, counter/0),
          [
            (Constructor (O/2),
              Apply (?, Variable (?, not_terminated/2), Tuple (?)));
            (Constructor (S/2, counter),
              Match
                (?, Variable (?, x/0),
                  [
                    (Constructor ([]/2),
                      Return
                        (?,
                          Constructor
                            (14,
                              Nil/0)));
                    (Constructor (cons/2, x, xs),
                      Bind
                        (?,
                          Apply
                            (15,
                              Apply
                                (?,
                                  Variable
                                    (?,
                                      of_list_rec/0),
                                  Variable
                                    (?,
                                      counter/0)),
                              Variable
                                (15,
                                  xs/0)),
                          Some
                            x_1,
                          Return
                            (?,
                              Constructor
                                (15,
                                  Cons/0,
                                  Variable
                                    (15,
                                      x/0),
                                  Variable
                                    (?,
                                      x_1/0)))))
                  ]))
          ]))
  
  ((),
    Value
      (non_rec, of_list, [ A ], [ (x, Type (list/2, A)) ],
        Some Monad ([ Counter/1; NonTermination/1 ], Type (t/0, A))) =
      Bind
        (?,
          Lift
            (?, [ Counter/1 ], [ Counter/1; NonTermination/1 ],
              Apply (?, Variable (?, read_counter/2), Tuple (?))), Some counter,
          Lift
            (?, [ NonTermination/1 ], [ Counter/1; NonTermination/1 ],
              Apply
                (?,
                  Apply
                    (?, Variable (?, of_list_rec/0), Variable (?, counter/0)),
                  Variable (?, x/0)))))
  
  Module Inside:
    ((),
      Value (non_rec, x, [ ], [ ], Some Type (Z/3)) =
        Constant (18, Int(12)))

((),
  Value
    (non_rec, n, [ ], [ ],
      Some Monad ([ Counter/1; NonTermination/1 ], Type (Z/1))) =
    Bind
      (?,
        Apply
          (22, Variable (22, List2.of_list/0),
            Constructor
              (22, cons/1, Constant (22, Int(5)),
                Constructor
                  (22, cons/1, Constant (22, Int(7)),
                    Constructor
                      (22, cons/1, Constant (22, Int(6)),
                        Constructor
                          (22, cons/1, Variable (22, List2.Inside.x/0),
                            Constructor (22, []/1)))))), Some x,
        Apply (22, Variable (22, List2.sum/0), Variable (?, x/0))))
